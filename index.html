<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SourceSupply.ai - The Procurement AI that thinks before you ask. Automate and optimize your procurement workflows with remarkable accuracy.">
    <meta name="keywords" content="procurement AI, supply chain automation, procurement software, AI procurement assistant">
    <meta name="author" content="SourceSupply.ai">
    <meta property="og:title" content="SourceSupply.ai - Procurement AI">
    <meta property="og:description" content="The Procurement AI that thinks before you ask. Automate and optimize your procurement workflows with remarkable accuracy.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sourcesupply.ai">
    <meta property="og:image" content="https://sourcesupply.ai/images/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SourceSupply.ai - Procurement AI">
    <meta name="twitter:description" content="The Procurement AI that thinks before you ask. Automate and optimize your procurement workflows with remarkable accuracy.">
    <meta name="twitter:image" content="https://sourcesupply.ai/images/twitter-card.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <title>SourceSupply.ai - Procurement AI Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        }
        
        body {
            background-color: #0b0b0f;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .comet-blur {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(82, 48, 153, 0.4) 0%, rgba(11, 11, 15, 0) 70%);
            filter: blur(60px);
            border-radius: 50%;
        }
        
        .star {
            position: absolute;
            background-color: #ffffff;
            width: 2px;
            height: 2px;
            border-radius: 50%;
            opacity: 0.7;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 18px;
        }
        
        .logo svg {
            height: 24px;
        }
        
        main {
            width: 100%;
            padding: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
        }
        
        #landing-container, #thank-you-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 16px;
            background: linear-gradient(90deg, #e879f9, #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-align: center;
            max-width: 800px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            font-weight: 400;
            color: #a1a1aa;
            margin-bottom: 32px;
            max-width: 600px;
            line-height: 1.5;
            text-align: center;
        }
        
        .waitlist-form {
            display: flex;
            flex-direction: column;
            gap: 16px;
            width: 100%;
            max-width: 400px;
            margin-bottom: 24px;
        }
        
        .input-container {
            display: flex;
            position: relative;
            width: 100%;
        }
        
        input {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            padding: 16px;
            font-size: 16px;
            width: 100%;
            outline: none;
            transition: all 0.2s ease;
        }
        
        input:focus {
            border-color: rgba(255, 255, 255, 0.5);
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        .submit-btn {
            background: linear-gradient(90deg, #8b5cf6, #e879f9);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
        }
        
        .submit-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .submit-btn:disabled {
            opacity: 0.7;
            transform: none;
            cursor: not-allowed;
        }

        /* Retro game loading animation styles */
        .retro-loading {
            position: relative;
            overflow: hidden;
            background: #111 !important;
            color: transparent !important;
            border: 2px solid #444 !important;
            cursor: default !important;
            transform: none !important;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.8);
        }
        
        .tv-static {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbHRlcj0idXJsKCNhKSIgb3BhY2l0eT0iLjA1Ii8+PC9zdmc+');
            opacity: 0.3;
        }
        
        .progress-bar {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, 
                transparent, 
                rgba(139, 92, 246, 0.2), 
                rgba(232, 121, 249, 0.4), 
                rgba(139, 92, 246, 0.2), 
                transparent
            );
            animation: none;
        }
        
        .loading-text {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #e879f9;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 14px;
            opacity: 0;
            text-shadow: 0 0 5px #8b5cf6;
        }
        
        @keyframes progressAnimation {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        @keyframes textPulse {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }
        
        .features {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 24px;
            margin-top: 64px;
            width: 100%;
            max-width: 900px;
        }
        
        .feature-card {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 24px;
            width: 250px;
            text-align: left;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            background-color: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
        }
        
        .feature-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: linear-gradient(135deg, #8b5cf6, #e879f9);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }
        
        .feature-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .feature-description {
            font-size: 14px;
            color: #a1a1aa;
            line-height: 1.5;
        }
        
        footer {
            width: 100%;
            padding: 24px;
            text-align: center;
            color: #71717a;
            font-size: 14px;
            margin-top: 64px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: center;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 8px;
        }
        
        .footer-links a {
            color: #71717a;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .footer-links a:hover {
            color: #ffffff;
        }
        
        .success-message {
            background-color: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
            display: none;
            width: 100%;
        }
        
        .error-message {
            background-color: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
            display: none;
            width: 100%;
        }
        
        .thank-you-container {
            display: none;
            text-align: center;
            width: 100%;
        }
        
        .thank-you-container h2 {
            font-size: 2.5rem;
            margin-bottom: 16px;
            background: linear-gradient(90deg, #e879f9, #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .thank-you-container p {
            font-size: 1.2rem;
            color: #a1a1aa;
            margin-bottom: 32px;
            max-width: 600px;
        }
        
        .thank-you-container .icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #8b5cf6, #e879f9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 32px auto;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .features {
                flex-direction: column;
                align-items: center;
            }
            
            .feature-card {
                width: 100%;
                max-width: 400px;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 16px;
            }
        }
        
        /* Add animation for the thank you page */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animated {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        .waitlist-counter {
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 18px;
            color: #a1a1aa;
        }
        
        .waitlist-number {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(90deg, #e879f9, #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            padding: 0 8px;
            display: inline-block;
            min-width: 60px;
            text-align: center;
        }
        
        @keyframes countUp {
            0% { transform: translateY(20px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="background">
        <div class="comet-blur"></div>
        <!-- Stars will be added by JavaScript -->
    </div>
    
    <div class="container">
        <header>
            <div class="logo">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="white" stroke-width="1.5"/>
                    <path d="M17 12H12V7" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>SourceSupply.ai</span>
            </div>
        </header>
        
        <main>
            <div id="landing-container">
                <h1>Meet Source Supply AI, the Procurement AI that thinks before you ask</h1>
                <p class="subtitle">Source Supply AI goes beyond standard AI assistants with deep reasoning capabilities, allowing it to understand and automate complex Procurement workflows with remarkable accuracy.</p>
                
                <div class="waitlist-form">
                    <div class="input-container">
                        <input type="email" placeholder="Enter your email address" id="email-input" aria-label="Email address for waitlist">
                    </div>
                    <button class="submit-btn" id="submit-button">Join the waitlist</button>
                    <div class="success-message" id="success-message" role="alert">
                        You've been added to the waitlist! We'll notify you when Source Supply is ready.
                    </div>
                    <div class="error-message" id="error-message" role="alert">
                        There was a problem submitting your email. Please try again.
                    </div>
                </div>
                
                <div class="features">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M7.75 12L10.58 14.83L16.25 9.17" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <h3 class="feature-title">Deep Reasoning</h3>
                        <p class="feature-description">Source Supply thinks through complex procurement problems step-by-step to arrive at accurate solutions.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8 2V5" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M16 2V5" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M3.5 9.09H20.5" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M21 8.5V17C21 20 19.5 22 16 22H8C4.5 22 3 17 3 17V8.5C3 5.5 4.5 3.5 8 3.5H16C19.5 3.5 21 5.5 21 8.5Z" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M15.6947 13.7H15.7037" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M15.6947 16.7H15.7037" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M11.9955 13.7H12.0045" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M11.9955 16.7H12.0045" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M8.29431 13.7H8.30329" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M8.29431 16.7H8.30329" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <h3 class="feature-title">Procurement Automation</h3>
                        <p class="feature-description">Proactively identifies automation opportunities across your procurement workflows.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16.44 8.9C20.04 9.21 21.51 11.06 21.51 15.11V15.24C21.51 19.71 19.72 21.5 15.25 21.5H8.74C4.27 21.5 2.48 19.71 2.48 15.24V15.11C2.48 11.09 3.93 9.24 7.47 8.91" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 15V3.62" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M15.35 5.85L12 2.5L8.65 5.85" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <h3 class="feature-title">Supply Chain Intelligence</h3>
                        <p class="feature-description">Access to the latest procurement insights with enhanced accuracy and depth of understanding.</p>
                    </div>
                </div>
            </div>
            
            <!-- Thank You Page - Hidden Initially -->
            <div id="thank-you-container" class="thank-you-container">
                <div class="icon">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.75 12L10.58 14.83L16.25 9.17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h2>Thank You!</h2>
                <p>You've been added to the SourceSupply.ai waitlist. We'll notify you when we're ready to launch.</p>
                <button class="submit-btn" id="back-button">Back to Homepage</button>
            </div>
        </main>
        
        <footer>
            <p>Â© 2025 SourceSupply.ai. All rights reserved.</p>
            <div class="footer-links">
                <a href="mailto:SourceSupplyAI@gmail.com">Contact Us</a>
            </div>
        </footer>
    </div>
    
    <!-- Preload favicon for faster loading -->
    <link rel="preload" as="image" href="favicon.ico">
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Create stars in the background
            const background = document.querySelector('.background');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.width = `${Math.random() * 3}px`;
                star.style.height = star.style.width;
                star.style.opacity = Math.random();
                background.appendChild(star);
            }
            
            // Waitlist counter - start from a base number and increment
            let waitlistCount = 486; // Starting count
            try {
                // Try to get from localStorage if available
                const storedCount = localStorage.getItem('waitlistCount');
                if (storedCount) {
                    waitlistCount = parseInt(storedCount);
                } else {
                    // If not in storage, save our initial value
                    localStorage.setItem('waitlistCount', waitlistCount.toString());
                }
            } catch (e) {
                // If localStorage is not available or fails, just use the default
                console.log('Unable to access localStorage, using default count');
            }
            
            // Form elements
            const emailInput = document.getElementById('email-input');
            const submitBtn = document.getElementById('submit-button');
            const successMessage = document.getElementById('success-message');
            const errorMessage = document.getElementById('error-message');
            const landingContainer = document.getElementById('landing-container');
            const thankYouContainer = document.getElementById('thank-you-container');
            const backButton = document.getElementById('back-button');
            const waitlistNumber = document.getElementById('waitlist-number');
            
            // Check for URL parameters that might indicate a redirect from form submission
            const urlParams = new URLSearchParams(window.location.search);
            // Only check for the submitted parameter if we're on the actual domain, not during local testing
            if (window.location.protocol !== 'file:' && urlParams.has('submitted') && urlParams.get('submitted') === 'true') {
                // If redirected back after submission, increment the counter
                waitlistCount++;
                try {
                    localStorage.setItem('waitlistCount', waitlistCount.toString());
                } catch (e) {
                    console.log('Unable to store count in localStorage');
                }
                
                showThankYouPage();
                // Clean up the URL
                window.history.replaceState({}, document.title, window.location.pathname);
            } else {
                // Ensure the landing page is visible and thank you page is hidden on initial load
                landingContainer.style.display = 'flex';
                landingContainer.style.flexDirection = 'column';
                landingContainer.style.alignItems = 'center';
                thankYouContainer.style.display = 'none';
            }
            
            // Back button functionality
            backButton.addEventListener('click', function() {
                hideThankYouPage();
            });
            
            // Form submission handling
            submitBtn.addEventListener('click', function() {
                submitWaitlistEmail();
            });
            
            // Allow form submission via Enter key
            emailInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    submitWaitlistEmail();
                }
            });
            
            // Validate using a more comprehensive international email regex
            function isValidEmail(email) {
                const regex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return regex.test(email);
            }
            
            function submitWaitlistEmail() {
                const email = emailInput.value.trim();
                
                if (email && isValidEmail(email)) {
                    // Start the retro game loading animation
                    startRetroLoadingAnimation()
                        .then(() => {
                            // After animation completes, try to submit the form
                            try {
                                tryFetchSubmission(email)
                                    .catch(error => {
                                        console.error('Error in fetch submission:', error);
                                        // If fetch fails, use iframe method instead
                                        fallbackFormSubmission(email);
                                    })
                                    .finally(() => {
                                        // Reset button state after submission
                                        resetButtonAfterSubmission();
                                    });
                            } catch (error) {
                                console.error('Error during submission:', error);
                                // If there's any error, use the fallback method
                                fallbackFormSubmission(email);
                                resetButtonAfterSubmission();
                            }
                        });
                } else {
                    showEmailError();
                }
            }
            
            function resetButtonAfterSubmission() {
                // Reset button state
                submitBtn.textContent = "Join the waitlist";
                submitBtn.disabled = false;
                submitBtn.classList.remove('retro-loading');
                
                // Remove animation elements
                const tvStatic = submitBtn.querySelector('.tv-static');
                const progressBar = submitBtn.querySelector('.progress-bar');
                const loadingText = submitBtn.querySelector('.loading-text');
                
                if (tvStatic) tvStatic.remove();
                if (progressBar) progressBar.remove();
                if (loadingText) loadingText.remove();
            }
            
            function startRetroLoadingAnimation() {
                return new Promise(resolve => {
                    // Disable button and set loading state
                    submitBtn.disabled = true;
                    submitBtn.classList.add('retro-loading');
                    
                    // Create TV static effect
                    const tvStatic = document.createElement('div');
                    tvStatic.classList.add('tv-static');
                    submitBtn.appendChild(tvStatic);
                    
                    // Create progress bar
                    const progressBar = document.createElement('div');
                    progressBar.classList.add('progress-bar');
                    submitBtn.appendChild(progressBar);
                    
                    // Create loading text
                    const loadingText = document.createElement('div');
                    loadingText.classList.add('loading-text');
                    loadingText.textContent = "LOADING...";
                    submitBtn.appendChild(loadingText);
                    
                    // Start animations - make much faster
                    setTimeout(() => {
                        progressBar.style.animation = 'progressAnimation 0.7s ease-in-out forwards';
                        loadingText.style.animation = 'textPulse 0.5s infinite';
                        loadingText.style.opacity = '1';
                        
                        // Resolve promise after animation completes - reduced from 2000ms to 700ms
                        setTimeout(() => {
                            resolve();
                        }, 700);
                    }, 50);
                });
            }
            
            function tryFetchSubmission(email) {
                return new Promise((resolve, reject) => {
                    try {
                        const formData = new FormData();
                        formData.append('email', email);
                        formData.append('_subject', 'New SourceSupply.ai Waitlist Signup');
                        
                        fetch('https://formspree.io/f/xrbewayn', {
                            method: 'POST',
                            body: formData,
                            headers: {
                                'Accept': 'application/json'
                            }
                        }).then(response => {
                            if (response.ok) {
                                // Track conversion with GA if available
                                if (typeof gtag !== 'undefined') {
                                    gtag('event', 'waitlist_signup', {
                                        'event_category': 'engagement',
                                        'event_label': 'waitlist'
                                    });
                                }
                                // Show thank you page on success
                                showThankYouPage();
                                resolve(true);
                            } else {
                                resolve(false);
                            }
                        }).catch(error => {
                            reject(error);
                        });
                    } catch (error) {
                        reject(error);
                    }
                });
            }
            
            function fallbackFormSubmission(email) {
                // Instead of redirecting to Formspree, we'll use an iframe for submission
                // This keeps the user on our page while still submitting the form
                
                // Create a hidden iframe
                const iframe = document.createElement('iframe');
                iframe.name = 'hidden_iframe';
                iframe.style.display = 'none';
                document.body.appendChild(iframe);
                
                // Create a hidden form targeting the iframe
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = 'https://formspree.io/f/xrbewayn';
                form.target = 'hidden_iframe'; // Submit to iframe instead of navigating
                form.style.display = 'none';
                
                const emailField = document.createElement('input');
                emailField.type = 'email';
                emailField.name = 'email';
                emailField.value = email;
                
                const subjectField = document.createElement('input');
                subjectField.type = 'hidden';
                subjectField.name = '_subject';
                subjectField.value = 'New SourceSupply.ai Waitlist Signup';
                
                // Not needed anymore since we're not using redirect
                // const redirectField = document.createElement('input'); 
                // redirectField.type = 'hidden';
                // redirectField.name = '_next';
                // redirectField.value = window.location.href + '?submitted=true';
                
                form.appendChild(emailField);
                form.appendChild(subjectField);
                document.body.appendChild(form);
                
                // Show thank you page immediately, no need to wait for form submission to complete
                showThankYouPage();
                
                // Submit the form to the hidden iframe
                form.submit();
                
                // Clean up after a short delay
                setTimeout(() => {
                    if (document.body.contains(form)) document.body.removeChild(form);
                    if (document.body.contains(iframe)) document.body.removeChild(iframe);
                }, 5000);
            }
            
            function showEmailError() {
                emailInput.style.borderColor = 'rgba(239, 68, 68, 0.7)';
                emailInput.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
                errorMessage.style.display = 'block';
                errorMessage.textContent = 'Please enter a valid email address';
                
                setTimeout(() => {
                    resetInputStyling();
                    errorMessage.style.display = 'none';
                }, 3000);
            }
            
            function resetInputStyling() {
                emailInput.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                emailInput.style.backgroundColor = 'rgba(255, 255, 255, 0.1)';
            }
            
            function showThankYouPage() {
                landingContainer.style.display = 'none';
                thankYouContainer.style.display = 'flex';
                thankYouContainer.classList.add('animated');
                
                // Increment and display the waitlist number with animation
                waitlistCount++;
                waitlistNumber.textContent = waitlistCount.toString();
                waitlistNumber.style.animation = 'countUp 0.4s ease-out forwards';
                
                // Store the updated count
                try {
                    localStorage.setItem('waitlistCount', waitlistCount.toString());
                } catch (e) {
                    console.log('Unable to store count in localStorage');
                }
                
                // Track page view
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'page_view', {
                        'page_title': 'Thank You',
                        'page_path': '/thank-you'
                    });
                    
                    // Also track the waitlist position
                    gtag('event', 'waitlist_position', {
                        'event_category': 'engagement',
                        'event_label': 'waitlist_number',
                        'value': waitlistCount
                    });
                }
            }
            
            function hideThankYouPage() {
                thankYouContainer.style.display = 'none';
                landingContainer.style.display = 'flex';
                
                // Reset email input
                emailInput.value = '';
            }
            
            // Reset input styling when user starts typing again
            emailInput.addEventListener('input', function() {
                resetInputStyling();
                errorMessage.style.display = 'none';
            });
        });
    </script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX'); // Replace with your actual Google Analytics ID
    </script>
</body>
</html>